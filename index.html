<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HeadlinesAI Generator</title>
    <style>
        * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Base styles */
body {
    background-color: #121212;
    color: #f5f5f5;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    line-height: 1.6;
    padding: 2rem;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    background-color: #1e1e1e;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

.title {
    font-size: 2.5rem;
    margin-bottom: 2rem;
    text-align: center;
    color: #f5f5f5;
}

/* Form styles */
.generator-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-label, legend {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: #f5f5f5;
}

.form-input {
    width: 100%;
    padding: 0.75rem;
    background-color: #2d2d2d;
    border: 2px solid #e63946;
    border-radius: 6px;
    color: #f5f5f5;
    font-size: 1rem;
    transition: all 0.3s ease;
}

.form-input:focus {
    outline: none;
    border-color: #ff6b6b;
    box-shadow: 0 0 0 3px rgba(230, 57, 70, 0.2);
}

.form-input::placeholder {
    color: #888;
}

/* Radio button styles */
.radio-group {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 0.5rem;
}

.radio-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.radio-item input[type="radio"] {
    appearance: none;
    width: 1.2rem;
    height: 1.2rem;
    border: 2px solid #e63946;
    border-radius: 50%;
    background-color: #2d2d2d;
    cursor: pointer;
    transition: all 0.2s ease;
}

.radio-item input[type="radio"]:checked {
    background-color: #e63946;
    box-shadow: 0 0 0 2px #2d2d2d inset;
}

.radio-item label {
    cursor: pointer;
    user-select: none;
}

/* Button styles */
.submit-button {
    background-color: #e63946;
    color: #f5f5f5;
    border: none;
    border-radius: 6px;
    padding: 1rem 2rem;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    margin-top: 1rem;
}

.submit-button:hover {
    background-color: #ff6b6b;
    transform: translateY(-2px);
}

.submit-button:active {
    transform: translateY(0);
}

/* Generated content section */
.content-section {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 2px solid #e63946;
}

.content-title {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    color: #f5f5f5;
}

.content-output {
    background-color: #2d2d2d;
    padding: 1.5rem;
    border-radius: 6px;
    border: 2px solid #e63946;
    min-height: 150px;
}

/* Fieldset styles */
fieldset {
    border: none;
    padding: 0;
    margin: 0;
}

/* Responsive styles */
@media (max-width: 768px) {
    body {
        padding: 1rem;
    }

    .container {
        padding: 1.5rem;
    }

    .title {
        font-size: 2rem;
    }

    .radio-group {
        flex-direction: column;
        gap: 0.75rem;
    }
}

@media (max-width: 480px) {
    .container {
        padding: 1rem;
    }

    .title {
        font-size: 1.75rem;
    }

    .submit-button {
        padding: 0.75rem 1.5rem;
    }
}
    </style>
</head>
<body>
    <main class="container">
        <h1 class="title">HeadlinesAI Generator</h1>
        
        <form id="headlinesForm" class="generator-form">
            <div class="form-group">
                <label for="companyName" class="form-label">Company Name</label>
                <input 
                    type="text" 
                    id="companyName" 
                    name="companyName" 
                    class="form-input" 
                    required
                    placeholder="Enter your company name"
                >
            </div>

            <div class="form-group">
                <label for="product" class="form-label">Product</label>
                <input 
                    type="text" 
                    id="product" 
                    name="product" 
                    class="form-input" 
                    required
                    placeholder="Enter your product name"
                >
            </div>

            <fieldset class="form-group">
                <legend class="form-label">Select Platform</legend>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="youtube" name="platform" value="youtube" required>
                        <label for="youtube">YouTube</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="medium" name="platform" value="medium">
                        <label for="medium">Medium</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="reddit" name="platform" value="reddit">
                        <label for="reddit">Reddit</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="indiehackers" name="platform" value="indiehackers">
                        <label for="indiehackers">IndieHackers</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="blog" name="platform" value="blog">
                        <label for="blog">Blog</label>
                    </div>
                </div>
            </fieldset>

            <fieldset class="form-group">
                <legend class="form-label">Content Type</legend>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="headlines" name="contentType" value="headlines" required>
                        <label for="headlines">Headlines</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="cta" name="contentType" value="cta">
                        <label for="cta">Call to Action</label>
                    </div>
                </div>
            </fieldset>

            <button type="submit" class="submit-button">Generate Content</button>
        </form>

        <section id="generatedContent" class="content-section">
            <h2 class="content-title">Generated Content</h2>
            <div id="contentOutput" class="content-output">
                <!-- Generated content will be displayed here -->
            </div>
        </section>
    </main>
</body>


<script defer>
       // Select DOM elements
       const form = document.getElementById('headlinesForm');
    const contentOutput = document.getElementById('contentOutput');
    
    // Helper function to create and show error messages
    const showError = (message) => {
        contentOutput.innerHTML = `
            <div class="error-message" style="color: #e63946; padding: 1rem; border: 1px solid #e63946; border-radius: 6px;">
                <strong>Error:</strong> ${message}
            </div>
        `;
    };
    
    // Helper function to show loading state
    const showLoading = () => {
        contentOutput.innerHTML = `
            <div class="loading-message" style="text-align: center; padding: 1rem;">
                <p>Generating content...</p>
                <div class="loading-spinner" style="margin-top: 1rem;">‚è≥</div>
            </div>
        `;
    };
    
    // Helper function to display generated content
    const showContent = (content) => {
        console.log("Extracted Content:", content); // Debugging
    
        // Extract text content from the response
        const textResponse = content?.candidates?.[0]?.content?.parts?.[0]?.text || "No content received.";
    
        // Split the text into separate lines, filtering out empty ones
        const headlinesArray = textResponse.split("\n").filter(line => line.trim() !== "");
    
        // Display the extracted headlines properly
        contentOutput.innerHTML = `
            <div class="generated-content">
                <p style="margin-bottom: 1rem; font-weight: bold;">Generated Headlines:</p>
                <div style="background: #2d2d2d; padding: 1rem; border-radius: 6px;">
                    ${headlinesArray.map(headline => `<p style="margin-bottom: 0.5rem;">${headline}</p>`).join('')}
                </div>
            </div>
        `;
    };
    
    
    // Helper function to get selected radio button value
    const getSelectedRadioValue = (name) => {
        const radio = document.querySelector(`input[name="${name}"]:checked`);
        return radio ? radio.value : null;
    };
    
    // Helper function to validate form data
    const validateFormData = (data) => {
        const errors = [];
        
        if (!data.companyName.trim()) {
            errors.push('Company name is required');
        }
        if (!data.product.trim()) {
            errors.push('Product name is required');
        }
        if (!data.platform) {
            errors.push('Please select a platform');
        }
        if (!data.contentType) {
            errors.push('Please select a content type');
        }
    
        return errors;
    };
    
    // Main form submission handler
    form.addEventListener('submit', async (e) => {
        e.preventDefault();
    
        // Collect form data
        const formData = {
            companyName: document.getElementById('companyName').value,
            product: document.getElementById('product').value,
            platform: getSelectedRadioValue('platform'),
            contentType: getSelectedRadioValue('contentType')
        };
    
        // Validate form data
        const validationErrors = validateFormData(formData);
        if (validationErrors.length > 0) {
            showError(validationErrors.join('<br>'));
            return;
        }
    
        // Show loading state
        showLoading();
    
        try {
            const promptText = `Generate headlines for a company named ${formData.companyName} that sells ${formData.product} for ${formData.platform}.`;

        const requestBody = JSON.stringify({
            "contents": [{
                "parts": [{
                    "text": promptText
                }]
            }]
        });

        const response = await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyBfq23-O7-8B4_8vuPLd1Zyc4E0vvgdfNE", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: requestBody
        });

            
    
            if (!response.ok) {
                throw new Error(`Server responded with status: ${response.status}`);
            }
    
            const data = await response.json();
            
            console.log("API Response:", data);
            showContent(data);
    
        } catch (error) {
            console.error('Error generating content:', error);
            showError('Failed to generate content. Please try again later.');
        }
    });
    
    // Add reset functionality
    form.addEventListener('reset', () => {
        contentOutput.innerHTML = ''; // Clear the output section
    });
    
    // Add input validation listeners
    const inputs = form.querySelectorAll('input[type="text"]');
    inputs.forEach(input => {
        input.addEventListener('input', () => {
            if (input.value.trim()) {
                input.classList.remove('error');
            } else {
                input.classList.add('error');
            }
        });
    });
    
    // Example response format for testing:
    /*
    {
        "platform": "youtube",
        "headlines": [
            "10 Ways [Product] is Revolutionizing [Industry]",
            "Why [Company] is the Future of [Industry]",
            "How [Product] Increased Productivity by 300%"
        ]
    }
    */

</script>

</html>